<!-- index.html -->
<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Doylu ‚Äî Comparateur de pass (SN)</title>
    <link rel="stylesheet" href="./style.css" />
    <meta name="theme-color" content="#F6EFE6" />
  </head>

  <body>
    <header class="topbar">
      <div class="container topbar__inner">
        <a class="brand" href="#/accueil" aria-label="Doylu Accueil">
          <span class="brand__logo">D</span>
          <span class="brand__name">Doylu</span>
        </a>

        <nav class="nav" aria-label="Navigation">
          <a class="nav__link" href="#/accueil" data-nav="accueil">Accueil</a>
          <a class="nav__link" href="#/promos" data-nav="promos">Promos</a>
          <a class="nav__link" href="#/guide" data-nav="guide">Guide USSD</a>
          <a class="nav__link" href="#/contact" data-nav="contact">Contact</a>
        </nav>

        <button class="burger" id="burgerBtn" aria-label="Menu">‚ò∞</button>
      </div>

      <div class="mobileNav" id="mobileNav" hidden>
        <a class="mobileNav__link" href="#/accueil">Accueil</a>
        <a class="mobileNav__link" href="#/promos">Promos</a>
        <a class="mobileNav__link" href="#/guide">Guide USSD</a>
        <a class="mobileNav__link" href="#/contact">Contact</a>
        <a class="mobileNav__link mobileNav__link--admin" href="#/admin">Admin</a>
      </div>
    </header>

    <main class="container">
      <!-- ACCUEIL -->
      <section id="page-accueil" class="page">
        <div class="hero">
          <h1 class="hero__title">Avant d‚Äôacheter ton pass, v√©rifie ici.</h1>
          <p class="hero__subtitle">Compare les offres selon ton budget. Donn√©es pr√™tes √† copier.</p>

          <div class="panel">
            <div class="budgetRow">
              <div class="budgetInput">
                <label class="label" for="budgetInput">üí∞ Ton budget (FCFA)</label>
                <input
                  id="budgetInput"
                  type="number"
                  inputmode="numeric"
                  min="0"
                  step="50"
                  placeholder="Ex: 1500"
                />
              </div>

              <button class="btn btn--primary" id="searchBtn" type="button">Voir les offres</button>

              <div class="budgetMeta">
                <span class="muted" id="offersCount">0 offre(s)</span>
              </div>
            </div>

            <div class="chips chips--budget" id="quickBudgets">
              <button class="chip" data-budget="500" type="button">500</button>
              <button class="chip" data-budget="1000" type="button">1000</button>
              <button class="chip" data-budget="2000" type="button">2000</button>
              <button class="chip" data-budget="3000" type="button">3000</button>
              <button class="chip" data-budget="5000" type="button">5000</button>
            </div>

            <div class="trustRow">
              <div class="trustPills">
                <span class="pill">üîí V√©rifi√©es SMS/USSD</span>
                <span class="pill">‚öñÔ∏è Site ind√©pendant</span>
                <span class="pill" id="lastUpdatePill">üïí Derni√®re MAJ : ‚Äî</span>
              </div>

              <button class="linkBtn" id="howVerifyBtn" type="button">Comment on v√©rifie ?</button>
            </div>
          </div>

          <div class="filters">
            <div class="filterCard">
              <div class="filterCard__title">üéØ Ton usage</div>
              <div class="chips" id="usageChips">
                <button class="chip chip--active" data-usage="data" type="button">üì± Data</button>
                <button class="chip" data-usage="mixte" type="button">üîÑ Mixte</button>
                <button class="chip" data-usage="appels" type="button">üìû Appels</button>
              </div>
            </div>

            <div class="filterCard">
              <div class="filterCard__title">üì° Op√©rateur</div>
              <div class="chips" id="operatorChips">
                <button class="chip chip--active" data-operator="all" type="button">Tous</button>
                <button class="chip" data-operator="Orange" type="button">Orange</button>
                <button class="chip" data-operator="Free" type="button">Free</button>
                <button class="chip" data-operator="Expresso" type="button">Expresso</button>
              </div>
            </div>

            <div class="filterCard">
              <div class="filterCard__title">‚è±Ô∏è Validit√©</div>
              <div class="chips" id="validityChips">
                <button class="chip chip--active" data-validity="all" type="button">Toutes</button>
                <button class="chip" data-validity="24h" type="button">24h</button>
                <button class="chip" data-validity="7j" type="button">7 jours</button>
                <button class="chip" data-validity="30j" type="button">30 jours</button>
              </div>
            </div>

            <div class="waCard">
              <div class="waCard__title">üü¢ Recevoir les bons plans sur WhatsApp</div>
              <div class="waCard__subtitle">Gratuit. 1 message/jour max.</div>
              <a class="btn btn--wa" id="waBtn" href="https://wa.me/?text=Doylu" target="_blank" rel="noopener"
                >Ouvrir WhatsApp</a
              >
            </div>
          </div>
        </div>

        <div class="bestBanner" id="bestBanner" hidden>
          <div class="bestBanner__title" id="bestTitle">üî• Meilleure valeur</div>
          <div class="bestBanner__gain" id="bestGain"></div>
          <div class="bestBanner__tip" id="bestTip"></div>
          <div class="bestBanner__desc" id="bestDesc"></div>
        </div>

        <div class="resultsHeader">
          <div class="resultsHeader__left">
            <strong>R√©sultats</strong>
            <span class="muted" id="resultsSubtitle">‚Äî</span>
          </div>
          <div class="resultsHeader__right muted">Astuce : ‚ÄúAfficher le code‚Äù ‚Üí puis ‚ÄúCopier‚Äù.</div>
        </div>

        <div class="grid" id="offersGrid"></div>

        <div class="empty" id="emptyState" hidden>
          <strong>Aucune offre trouv√©e.</strong>
          <div class="muted">Essaie : 1000 / 2000 / 5000, ou passe en Mixte.</div>
        </div>

        <p class="habit">
          Beaucoup prennent le m√™me forfait par habitude. <strong>V√©rifie toujours avant d‚Äôacheter.</strong>
        </p>
      </section>

      <!-- PROMOS -->
      <section id="page-promos" class="page" hidden>
        <div class="pageHero">
          <h2>Promos du moment</h2>
          <p>Offres marqu√©es ‚ÄúPromo‚Äù (si tu les ajoutes via Admin).</p>
        </div>
        <div class="grid" id="promosGrid"></div>
        <div class="smallTrust">
          <button class="linkBtn" id="howVerifyBtn2" type="button">Comment on v√©rifie ?</button>
          <span class="muted">On retire les promos expir√©es d√®s qu‚Äôon les d√©tecte.</span>
        </div>
      </section>

      <!-- GUIDE -->
      <section id="page-guide" class="page" hidden>
        <div class="pageHero">
          <h2>Guide USSD (S√©n√©gal)</h2>
          <p>Codes utiles et offline (quand √ßa existe).</p>
        </div>

        <div class="accordion">
          <details open>
            <summary>Orange</summary>
            <ul class="list">
              <li><strong>Catalogue pass :</strong> #1234# (offline)</li>
              <li class="muted">Certains codes peuvent varier selon offre.</li>
            </ul>
          </details>

          <details>
            <summary>Free</summary>
            <ul class="list">
              <li><strong>√Ä confirmer :</strong> codes selon SIM</li>
              <li class="muted">On compl√©tera avec tes donn√©es.</li>
            </ul>
          </details>

          <details>
            <summary>Expresso</summary>
            <ul class="list">
              <li><strong>√Ä confirmer :</strong> codes selon SIM</li>
              <li class="muted">On compl√©tera avec tes donn√©es.</li>
            </ul>
          </details>
        </div>

        <div class="card card--note">
          <h3>Astuces</h3>
          <ul class="list">
            <li>Si un code ne marche pas : red√©marre, v√©rifie la SIM par d√©faut, r√©essaie.</li>
            <li>Certains pass n‚Äôapparaissent que via SMS promo.</li>
          </ul>
          <a class="btn btn--primary" href="#/accueil">Retour accueil</a>
        </div>
      </section>

      <!-- CONTACT -->
      <section id="page-contact" class="page" hidden>
        <div class="pageHero">
          <h2>Nous contacter</h2>
          <p>Signaler une erreur ou envoyer une promo re√ßue par SMS.</p>
        </div>

        <div class="contactGrid">
          <div class="card">
            <h3>Signaler une offre</h3>
            <label class="label">Op√©rateur</label>
            <select class="input" id="contactOperator1">
              <option>Orange</option>
              <option>Free</option>
              <option>Expresso</option>
            </select>

            <label class="label">D√©tails</label>
            <textarea class="input" id="contactText1" rows="4" placeholder="Nom, prix, code, probl√®me..."></textarea>

            <button class="btn btn--primary" id="sendContact1" type="button">Envoyer</button>
            <p class="muted" id="contactStatus1"></p>
          </div>

          <div class="card">
            <h3>Envoyer une promo re√ßue par SMS</h3>
            <label class="label">SMS</label>
            <textarea class="input" id="contactSms" rows="4" placeholder="Colle le SMS ici..."></textarea>

            <label class="label">Op√©rateur</label>
            <select class="input" id="contactOperator2">
              <option>Orange</option>
              <option>Free</option>
              <option>Expresso</option>
            </select>

            <button class="btn btn--primary" id="sendContact2" type="button">Envoyer</button>
            <p class="muted" id="contactStatus2"></p>
          </div>

          <div class="card">
            <h3>Partenariat / Pub</h3>
            <p class="muted">Doylu reste neutre. La mon√©tisation doit rester transparente.</p>
            <button class="btn" id="openPartnership" type="button">Contacter</button>
            <p class="muted" id="contactStatus3"></p>
          </div>
        </div>
      </section>

      <!-- ADMIN -->
      <section id="page-admin" class="page" hidden>
        <div class="pageHero">
          <h2>Admin</h2>
          <p class="muted">Acc√®s via <code>#/admin</code>. Les utilisateurs ne voient pas le bouton.</p>
        </div>

        <div class="card" id="adminAuthCard">
          <label class="label" for="adminPass">Mot de passe</label>
          <input class="input" id="adminPass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
          <button class="btn btn--primary" id="adminLoginBtn" type="button">Se connecter</button>
          <p class="muted" id="adminAuthMsg"></p>
        </div>

        <div id="adminPanel" hidden>
          <div class="adminBar">
            <button class="btn" id="exportJsonBtn" type="button">Exporter JSON</button>
            <label class="btn btn--file">
              Importer JSON
              <input id="importJsonInput" type="file" accept="application/json" hidden />
            </label>
            <button class="btn btn--danger" id="resetDataBtn" type="button">Reset (d√©mo)</button>
          </div>

          <div class="card">
            <h3>Ajouter / Modifier une offre</h3>
            <div class="formGrid">
              <div>
                <label class="label">ID (vide = auto)</label>
                <input class="input" id="a_id" placeholder="ex: orange_jour_5go_1000" />
              </div>
              <div>
                <label class="label">Op√©rateur</label>
                <select class="input" id="a_operator">
                  <option>Orange</option>
                  <option>Free</option>
                  <option>Expresso</option>
                </select>
              </div>
              <div>
                <label class="label">Nom</label>
                <input class="input" id="a_name" placeholder="ex: Pass Jour 5Go" />
              </div>
              <div>
                <label class="label">Prix</label>
                <input class="input" id="a_price" type="number" min="0" step="50" />
              </div>
              <div>
                <label class="label">Usage</label>
                <select class="input" id="a_usage">
                  <option value="data">data</option>
                  <option value="appels">appels</option>
                  <option value="mixte">mixte</option>
                </select>
              </div>
              <div>
                <label class="label">Data (MB)</label>
                <input class="input" id="a_data" type="number" min="0" step="50" placeholder="ex: 5120" />
              </div>
              <div>
                <label class="label">Minutes</label>
                <input class="input" id="a_minutes" type="number" min="0" step="1" placeholder="ex: 60" />
              </div>
              <div>
                <label class="label">Validit√©</label>
                <select class="input" id="a_validity">
                  <option value="24h">24h</option>
                  <option value="7j">7j</option>
                  <option value="30j">30j</option>
                  <option value="inconnu">inconnu</option>
                </select>
              </div>
              <div>
                <label class="label">USSD</label>
                <input class="input" id="a_ussd" placeholder="ex: #1234#" />
              </div>
              <div>
                <label class="label">√âligibilit√©</label>
                <select class="input" id="a_eligibility">
                  <option value="public">public</option>
                  <option value="student">student</option>
                  <option value="corporate">corporate</option>
                  <option value="special">special</option>
                </select>
              </div>
              <div>
                <label class="label">Promo</label>
                <select class="input" id="a_promo">
                  <option value="false">non</option>
                  <option value="true">oui</option>
                </select>
              </div>
              <div>
                <label class="label">Source</label>
                <select class="input" id="a_source">
                  <option value="sms">SMS</option>
                  <option value="official">Officielle</option>
                </select>
              </div>
            </div>

            <div class="adminActions">
              <button class="btn btn--primary" id="saveOfferBtn" type="button">Enregistrer</button>
              <button class="btn" id="clearFormBtn" type="button">Vider</button>
              <span class="muted" id="adminSaveMsg"></span>
            </div>
          </div>

          <div class="card">
            <h3>Offres actuelles</h3>
            <div class="adminTable" id="adminOffers"></div>
          </div>
        </div>
      </section>
    </main>

    <!-- MODAL -->
    <div class="modal" id="modal" hidden>
      <div class="modal__backdrop" id="modalBackdrop"></div>
      <div class="modal__card" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="modal__header">
          <h3 id="modalTitle">Info</h3>
          <button class="iconBtn" id="modalCloseBtn" aria-label="Fermer" type="button">‚úï</button>
        </div>
        <div class="modal__body" id="modalBody"></div>
        <div class="modal__footer">
          <button class="btn btn--primary" id="modalOkBtn" type="button">OK</button>
        </div>
      </div>
    </div>

    <div class="toast" id="toast" hidden></div>

    <script src="./script.js" defer></script>
  </body>
</html>
