<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Doylu ‚Äî Comparateur de pass</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="site-header">
    <div class="wrap header-row">
      <a class="brand" href="#accueil" aria-label="Doylu">
        <div class="brand-mark">D</div>
        <div class="brand-name">Doylu</div>
      </a>

      <button id="menuBtn" class="icon-btn" aria-label="Ouvrir le menu" aria-expanded="false">
        ‚ò∞
      </button>

      <nav id="nav" class="nav">
        <a class="nav-link" href="#accueil" data-route="accueil">Accueil</a>
        <a class="nav-link" href="#promos" data-route="promos">Promos</a>
        <a class="nav-link" href="#ussd" data-route="ussd">Guide USSD</a>
        <a class="nav-link" href="#contact" data-route="contact">Contact</a>
      </nav>
    </div>

    <div id="mobileNav" class="mobile-nav hidden" role="dialog" aria-label="Menu">
      <a class="nav-link" href="#accueil" data-route="accueil">Accueil</a>
      <a class="nav-link" href="#promos" data-route="promos">Promos</a>
      <a class="nav-link" href="#ussd" data-route="ussd">Guide USSD</a>
      <a class="nav-link" href="#contact" data-route="contact">Contact</a>
    </div>
  </header>

  <main class="wrap main">
    <!-- ACCUEIL -->
    <section id="view-accueil" class="view">
      <div class="hero">
        <h1>Avant d‚Äôacheter ton pass, v√©rifie ici.</h1>
        <p class="subtitle">Compare les offres selon ton budget. <strong>Donn√©es v√©rifi√©es</strong>, pr√™tes √† copier.</p>

        <div class="card hero-card">
          <div class="budget-row">
            <div class="budget-left">
              <div class="label-row">
                <div class="label">üí∞ Ton budget (FCFA)</div>
              </div>

              <div class="budget-input-row">
                <input id="budgetInput" type="number" inputmode="numeric" placeholder="Ex: 1500 (laisser vide = toutes les offres)" />
                <button id="budgetSubmit" class="btn btn-cta">Voir les offres</button>
              </div>

              <div class="quick-budgets">
                <button class="chip chip-budget" data-budget="500">500</button>
                <button class="chip chip-budget" data-budget="1000">1000</button>
                <button class="chip chip-budget" data-budget="2000">2000</button>
                <button class="chip chip-budget" data-budget="3000">3000</button>
                <button class="chip chip-budget" data-budget="5000">5000</button>
              </div>
            </div>

            <div class="budget-right">
              <div class="mini-meta">
                <span id="offersCount" class="muted">0 offre(s)</span>
              </div>
            </div>
          </div>

          <div class="trust-row">
            <div class="pill">üîí V√©rifi√©es SMS/USSD</div>
            <div class="pill">‚öñÔ∏è Site ind√©pendant</div>
            <div id="lastUpdate" class="pill">Derni√®re MAJ : ‚Äî</div>
            <button id="howVerifyBtn" class="link-btn" type="button">Comment on v√©rifie ?</button>
          </div>
        </div>

        <!-- ‚úÖ Bouton mobile pour ouvrir/fermer les filtres -->
        <div class="filters-toggle-row">
          <button id="filtersToggle" class="btn btn-light filters-toggle" type="button">
            ‚öôÔ∏è Filtres & tri <span id="filtersToggleIcon">‚ñº</span>
          </button>
        </div>

        <!-- ‚úÖ Panneau filtres (desktop = visible, mobile = repliable) -->
        <div id="filtersPanel" class="filters-panel">
          <div class="filters-grid">
            <div class="filter-card">
              <div class="filter-title">üéØ Ton usage</div>
              <div class="chip-row">
                <button class="chip chip-filter is-active" data-filter="usage" data-value="data">üì± Data</button>
                <button class="chip chip-filter" data-filter="usage" data-value="mixte">üîÑ Mixte</button>
                <button class="chip chip-filter" data-filter="usage" data-value="appels">üìû Appels</button>
              </div>
            </div>

            <div class="filter-card">
              <div class="filter-title">üì° Op√©rateur</div>
              <div class="chip-row">
                <button class="chip chip-filter is-active" data-filter="operator" data-value="Tous">Tous</button>
                <button class="chip chip-filter" data-filter="operator" data-value="Orange">Orange</button>
                <button class="chip chip-filter" data-filter="operator" data-value="Free">Free</button>
                <button class="chip chip-filter" data-filter="operator" data-value="Expresso">Expresso</button>
              </div>
            </div>

            <div class="filter-card">
              <div class="filter-title">‚è± Validit√©</div>
              <div class="chip-row">
                <button class="chip chip-filter is-active" data-filter="validity" data-value="Toutes">Toutes</button>
                <button class="chip chip-filter" data-filter="validity" data-value="24h">24h</button>
                <button class="chip chip-filter" data-filter="validity" data-value="7 jours">7 jours</button>
                <button class="chip chip-filter" data-filter="validity" data-value="30 jours">30 jours</button>
              </div>
            </div>

            <div class="wa-card">
              <div class="wa-title">üü¢ Recevoir les bons plans sur WhatsApp</div>
              <div class="wa-sub">Gratuit. 1 message/jour max.</div>
              <a id="waOpenBtn" class="btn btn-wa" href="#" rel="noopener noreferrer">Ouvrir WhatsApp</a>
            </div>
          </div>
        </div>
      </div>

      <!-- BANNER TOP -->
      <div id="bestBanner" class="best-banner hidden">
        <div class="best-title" id="bestTitle">üî• Meilleur choix</div>
        <div id="bestLine1" class="best-line"></div>
        <div class="best-gain-row">
          <div id="bestUnit" class="best-unit hidden"></div>
          <div id="bestGain" class="best-gain hidden"></div>
        </div>
      </div>

      <!-- EMPTY STATE -->
      <div id="noResults" class="empty hidden"></div>

      <div class="results-head">
        <div id="resultsTitle" class="results-title">R√©sultats</div>
        <div class="results-hint muted">Astuce : ‚ÄúAfficher le code‚Äù ‚Üí puis ‚ÄúCopier‚Äù.</div>
      </div>

      <section id="offersGrid" class="grid"></section>

      <section id="specialOffersWrap" class="specials hidden">
        <h2 class="section-title">üîí Offres sous conditions</h2>
        <p class="muted">Ces offres ne participent pas au Top ni au gain. Elles peuvent n√©cessiter un justificatif selon l‚Äôop√©rateur.</p>
        <div id="specialOffersGrid" class="grid"></div>
      </section>

      <div class="habit">
        Beaucoup prennent le m√™me forfait par habitude. <strong>V√©rifie toujours avant d‚Äôacheter.</strong>
      </div>
    </section>

    <!-- PROMOS -->
    <section id="view-promos" class="view hidden">
      <h1>Promos du moment (v√©rifi√©es par SMS)</h1>
      <p class="subtitle">Mis √† jour r√©guli√®rement. Codes USSD pr√™ts √† copier.</p>

      <div class="card">
        <div class="chip-row">
          <button class="chip chip-filter is-active" data-filter="promoOperator" data-value="Tous">Tous</button>
          <button class="chip chip-filter" data-filter="promoOperator" data-value="Orange">Orange</button>
          <button class="chip chip-filter" data-filter="promoOperator" data-value="Free">Free</button>
          <button class="chip chip-filter" data-filter="promoOperator" data-value="Expresso">Expresso</button>
        </div>
      </div>

      <div id="promosEmpty" class="empty">Pas de promos publi√©es pour l‚Äôinstant.</div>
      <div id="promosGrid" class="grid"></div>

      <div class="card small">
        <button id="sourcesInfoBtn" class="link-btn" type="button">Comment on v√©rifie ?</button>
        <div class="muted">On publie des offres re√ßues par SMS et confirm√©es. Si une promo est expir√©e, elle est retir√©e.</div>
      </div>
    </section>

    <!-- USSD -->
    <section id="view-ussd" class="view hidden">
      <h1>Tous les codes USSD utiles (S√©n√©gal)</h1>
      <p class="subtitle">Pour acheter un pass, v√©rifier ton solde, consulter tes bonus, etc.</p>

      <div class="accordion">
        <details open>
          <summary>Orange</summary>
          <div class="acc-body">
            <div class="acc-item"><strong>Catalogue Pass (offline)</strong> : <code>#1234#</code></div>
            <div class="acc-item"><strong>Solde cr√©dit</strong> : <code>*123#</code> <span class="muted">(exemple)</span></div>
          </div>
        </details>
        <details>
          <summary>Free</summary>
          <div class="acc-body">
            <div class="acc-item"><strong>Solde cr√©dit</strong> : <code>*xxx#</code> <span class="muted">(√† confirmer)</span></div>
          </div>
        </details>
        <details>
          <summary>Expresso</summary>
          <div class="acc-body">
            <div class="acc-item"><strong>Solde cr√©dit</strong> : <code>*xxx#</code> <span class="muted">(√† confirmer)</span></div>
          </div>
        </details>
      </div>

      <div class="card small">
        <h2 class="section-title">Astuces</h2>
        <ul class="muted">
          <li>Si un code ne marche pas : red√©marre, v√©rifie la SIM par d√©faut, et essaye une autre variante.</li>
          <li>Certains pass ne s‚Äôaffichent que via SMS promo.</li>
        </ul>
        <a class="btn btn-cta" href="#accueil">Trouver mon meilleur pass</a>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="view-contact" class="view hidden">
      <h1>Nous contacter</h1>
      <p class="subtitle">Une promo qui ne marche pas ? Une erreur ? Une id√©e ?</p>

      <div class="contact-grid">
        <div class="card">
          <h2 class="section-title">Signaler une offre</h2>
          <label class="field">
            <span>Op√©rateur</span>
            <select id="contactOp">
              <option>Orange</option>
              <option>Free</option>
              <option>Expresso</option>
            </select>
          </label>
          <label class="field">
            <span>D√©tails</span>
            <textarea id="contactMsg" rows="5" placeholder="Nom de l‚Äôoffre, prix, code, ce qui ne marche pas‚Ä¶"></textarea>
          </label>
          <button id="contactSend" class="btn btn-cta" type="button">Envoyer</button>
          <div id="contactToast" class="muted"></div>
        </div>

        <div class="card">
          <h2 class="section-title">Envoyer une promo re√ßue par SMS</h2>
          <label class="field">
            <span>Copie-colle le SMS</span>
            <textarea id="smsText" rows="6" placeholder="Colle le SMS ici‚Ä¶"></textarea>
          </label>
          <label class="field">
            <span>Op√©rateur</span>
            <select id="smsOp">
              <option>Orange</option>
              <option>Free</option>
              <option>Expresso</option>
            </select>
          </label>
          <button id="smsSend" class="btn btn-cta" type="button">Envoyer</button>
          <div id="smsToast" class="muted"></div>
        </div>

        <div class="card">
          <h2 class="section-title">Partenariat / Pub</h2>
          <p class="muted">Doylu est ind√©pendant des op√©rateurs. Partenariats possibles (clairs et transparents).</p>
          <button class="btn btn-light" id="partnerBtn" type="button">Contacter</button>
          <div id="partnerToast" class="muted"></div>
        </div>
      </div>

      <div class="card small">
        <h2 class="section-title">Confiance</h2>
        <p class="muted">Doylu est ind√©pendant des op√©rateurs. Les offres sont informatives et v√©rifi√©es.</p>
      </div>
    </section>

    <!-- ADMIN (cach√©) -->
    <section id="view-admin" class="view hidden">
      <h1>Admin (invisible au public)</h1>
      <p class="subtitle">Acc√®s via <code>#admin</code> + mot de passe.</p>

      <div id="adminGate" class="card">
        <label class="field">
          <span>Mot de passe</span>
          <input id="adminPass" type="password" placeholder="Mot de passe admin" />
        </label>
        <button id="adminLogin" class="btn btn-cta" type="button">Se connecter</button>
        <div id="adminGateMsg" class="muted"></div>
      </div>

      <div id="adminPanel" class="hidden">
        <div class="admin-row">
          <div class="card">
            <h2 class="section-title">Ajouter / Modifier une offre</h2>

            <div class="admin-grid">
              <label class="field">
                <span>Op√©rateur</span>
                <select id="aOperator">
                  <option>Orange</option>
                  <option>Free</option>
                  <option>Expresso</option>
                </select>
              </label>

              <label class="field">
                <span>Nom</span>
                <input id="aName" type="text" placeholder="Ex: Pass Jour 5Go" />
              </label>

              <label class="field">
                <span>Prix (FCFA)</span>
                <input id="aPrice" type="number" inputmode="numeric" placeholder="Ex: 1000" />
              </label>

              <label class="field">
                <span>Usage</span>
                <select id="aUsage">
                  <option value="data">data</option>
                  <option value="appels">appels</option>
                  <option value="mixte">mixte</option>
                </select>
              </label>

              <label class="field">
                <span>Data (MB)</span>
                <input id="aDataMb" type="number" inputmode="numeric" placeholder="Ex: 5120" />
              </label>

              <label class="field">
                <span>Minutes</span>
                <input id="aMinutes" type="number" inputmode="numeric" placeholder="Ex: 120" />
              </label>

              <label class="field">
                <span>Validit√© (jours)</span>
                <input id="aValidityDays" type="number" inputmode="numeric" placeholder="Ex: 1 / 7 / 30" />
              </label>

              <label class="field">
                <span>Code USSD</span>
                <input id="aUssd" type="text" placeholder="Ex: #1234#" />
              </label>

              <label class="field">
                <span>√âligibilit√©</span>
                <select id="aEligibility">
                  <option value="public">public</option>
                  <option value="student">student</option>
                  <option value="corporate">corporate</option>
                  <option value="special">special</option>
                </select>
              </label>

              <label class="field">
                <span>Source badge</span>
                <select id="aSourceBadge">
                  <option>Source SMS</option>
                  <option>Source officielle</option>
                </select>
              </label>

              <label class="field inline">
                <span>Promo</span>
                <input id="aPromo" type="checkbox" />
              </label>
            </div>

            <div class="admin-actions">
              <button id="aSave" class="btn btn-cta" type="button">Enregistrer</button>
              <button id="aReset" class="btn btn-light" type="button">R√©initialiser</button>
              <div id="adminToast" class="muted"></div>
            </div>
          </div>

          <div class="card">
            <h2 class="section-title">Import / Export JSON</h2>
            <div class="admin-actions">
              <button id="exportJson" class="btn btn-light" type="button">Exporter JSON</button>
              <label class="btn btn-light file-btn" for="importFile">Importer JSON</label>
              <input id="importFile" type="file" accept="application/json" />
            </div>
            <p class="muted">Export = sauvegarde compl√®te. Import = remplace tes offres.</p>
            <div id="importMsg" class="muted"></div>

            <hr class="sep" />

            <h2 class="section-title">Liste des offres</h2>
            <div id="adminList" class="admin-list"></div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- MODAL -->
  <div id="modal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-card">
      <div class="modal-head">
        <div id="modalTitle" class="modal-title">Info</div>
        <button id="modalClose" class="icon-btn" aria-label="Fermer">‚úï</button>
      </div>
      <div id="modalBody" class="modal-body"></div>
    </div>
  </div>

  <!-- TOAST -->
  <div id="toast" class="toast" aria-live="polite"></div>

  <footer class="wrap footer">
    ¬© <span id="year"></span> Doylu ‚Ä¢ Site ind√©pendant des op√©rateurs.
  </footer>

  <script src="script.js"></script>
</body>
</html>
