<!-- /index.html -->
<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Doylu</title>
    <meta
      name="description"
      content="Doylu compare les offres t√©l√©com selon ton budget. Donn√©es v√©rifi√©es, pr√™tes √† copier."
    />
    <link rel="stylesheet" href="./style.css" />
  </head>

  <body>
    <header class="topbar">
      <div class="topbar__inner">
        <a class="brand" href="#home" aria-label="Doylu - Accueil">
          <span class="brand__logo">D</span>
          <span class="brand__name">Doylu</span>
        </a>

        <button class="hamburger" id="hamburger" aria-label="Menu" aria-expanded="false">
          ‚ò∞
        </button>

        <nav class="nav" id="nav">
          <a class="nav__link" href="#home" data-route="home">Accueil</a>
          <a class="nav__link" href="#promos" data-route="promos">Promos</a>
          <a class="nav__link" href="#guide" data-route="guide">Guide USSD</a>
          <a class="nav__link" href="#contact" data-route="contact">Contact</a>
          <!-- Admin accessible uniquement via URL #admin -->
        </nav>
      </div>
    </header>

    <main class="page">
      <!-- ============ ACCUEIL ============ -->
      <section class="view" id="view-home" data-view="home" aria-hidden="false">
        <div class="hero">
          <h1 class="hero__title">Avant d‚Äôacheter ton pass, v√©rifie ici.</h1>
          <p class="hero__subtitle">
            Compare les offres selon ton budget. <strong>Donn√©es v√©rifi√©es</strong>, pr√™tes √† copier.
          </p>

          <div class="heroCard">
            <div class="heroCard__grid">
              <div class="budget">
                <div class="labelRow">
                  <div class="label"><span class="emoji">üí∞</span> Ton budget (FCFA)</div>
                  <div class="muted" id="budgetHint">‚Äî</div>
                </div>

                <div class="budgetRow">
                  <input
                    id="budgetInput"
                    class="input"
                    inputmode="numeric"
                    pattern="[0-9]*"
                    placeholder="Ex: 1500"
                    aria-label="Budget en FCFA"
                  />
                  <button class="btn btn--cta" id="searchBtn">
                    <span id="searchBtnText">Voir les offres</span>
                  </button>
                </div>

                <div class="chips" id="budgetChips">
                  <button class="chip" data-budget="500">500</button>
                  <button class="chip" data-budget="1000">1000</button>
                  <button class="chip" data-budget="2000">2000</button>
                  <button class="chip" data-budget="3000">3000</button>
                  <button class="chip" data-budget="5000">5000</button>
                </div>

                <div class="trustRow">
                  <span class="pill"><span class="emoji">üîí</span> V√©rifi√©es SMS/USSD</span>
                  <span class="pill"><span class="emoji">‚öñÔ∏è</span> Site ind√©pendant</span>
                  <span class="pill"><span class="emoji">üïí</span> Derni√®re MAJ : <span id="lastUpdate">‚Äî</span></span>
                  <button class="link" id="howVerifyBtn" type="button">Comment on v√©rifie ?</button>
                </div>
              </div>
            </div>
          </div>

          <div class="filters">
            <div class="filterBlock">
              <div class="filterLabel"><span class="emoji">üéØ</span> Ton usage</div>
              <div class="chips" id="usageChips">
                <button class="chip chip--active" data-usage="data">üì± Data</button>
                <button class="chip" data-usage="mixte">üîÑ Mixte</button>
                <button class="chip" data-usage="appels">üìû Appels</button>
              </div>
            </div>

            <div class="filterBlock">
              <div class="filterLabel"><span class="emoji">üì°</span> Op√©rateur</div>
              <div class="chips" id="operatorChips">
                <button class="chip chip--active" data-operator="all">Tous</button>
                <button class="chip" data-operator="Orange">Orange</button>
                <button class="chip" data-operator="Free">Free</button>
                <button class="chip" data-operator="Expresso">Expresso</button>
                <button class="chip" data-operator="Lebara">Lebara</button>
              </div>
            </div>

            <div class="filterBlock">
              <div class="filterLabel"><span class="emoji">‚è±</span> Validit√©</div>
              <div class="chips" id="validityChips">
                <button class="chip chip--active" data-validity="all">Toutes</button>
                <button class="chip" data-validity="1">24h</button>
                <button class="chip" data-validity="7">7 jours</button>
                <button class="chip" data-validity="30">30 jours</button>
              </div>
            </div>

            <a class="waCard" id="waSubscribe" href="#" target="_blank" rel="noreferrer">
              <span class="waDot"></span>
              <div>
                <div class="waTitle">Recevoir les bons plans sur WhatsApp</div>
                <div class="waSub">Gratuit. 1 message/jour max.</div>
              </div>
            </a>
          </div>

          <div class="bestBanner" id="bestBanner" hidden>
            <div class="bestBanner__title" id="bestTitle">üî• Meilleure valeur</div>
            <div class="bestBanner__gain" id="bestGain" hidden></div>
            <div class="bestBanner__hint" id="bestHint"></div>
          </div>

          <div class="resultsHead" id="resultsHead" hidden>
            <div class="resultsHead__left">
              <div class="muted" id="resultsCount">‚Äî</div>
            </div>
            <div class="resultsHead__right">
              <span class="muted">Astuce : touche ‚ÄúAfficher le code‚Äù pour mesurer la demande.</span>
            </div>
          </div>

          <div class="grid" id="offersGrid"></div>

          <div class="empty" id="emptyState" hidden>
            <div class="empty__title">Aucune offre trouv√©e.</div>
            <div class="empty__actions">
              <button class="btn" data-suggest="1000">Essayer 1000</button>
              <button class="btn" data-suggest="2000">Essayer 2000</button>
              <button class="btn" data-suggest="5000">Essayer 5000</button>
              <button class="btn" data-suggest-usage="mixte">Passer en Mixte</button>
            </div>
          </div>

          <div class="footerNote">
            Beaucoup prennent le m√™me forfait par habitude. <strong>V√©rifie toujours avant d‚Äôacheter.</strong>
          </div>
        </div>
      </section>

      <!-- ============ PROMOS ============ -->
      <section class="view" id="view-promos" data-view="promos" aria-hidden="true" hidden>
        <div class="section">
          <h2 class="section__title">Promos du moment (v√©rifi√©es)</h2>
          <p class="section__subtitle">Mis √† jour chaque jour. Codes USSD pr√™ts √† copier.</p>

          <div class="filters filters--compact">
            <div class="filterBlock">
              <div class="filterLabel">Op√©rateur</div>
              <div class="chips" id="promosOperatorChips">
                <button class="chip chip--active" data-operator="all">Tous</button>
                <button class="chip" data-operator="Orange">Orange</button>
                <button class="chip" data-operator="Free">Free</button>
                <button class="chip" data-operator="Expresso">Expresso</button>
                <button class="chip" data-operator="Lebara">Lebara</button>
              </div>
            </div>
            <div class="filterBlock">
              <div class="filterLabel">Type</div>
              <div class="chips" id="promosUsageChips">
                <button class="chip chip--active" data-usage="all">Tous</button>
                <button class="chip" data-usage="data">üì± Data</button>
                <button class="chip" data-usage="appels">üìû Appels</button>
                <button class="chip" data-usage="mixte">üîÑ Mixte</button>
              </div>
            </div>
          </div>

          <div class="grid" id="promosGrid"></div>

          <div class="trustBox">
            <button class="link" id="howVerifyBtn2" type="button">Comment on v√©rifie ?</button>
            <p class="muted">
              On publie les offres re√ßues par SMS/USSD et confirm√©es par plusieurs utilisateurs.
              Si une promo est expir√©e, elle est retir√©e.
            </p>
          </div>
        </div>
      </section>

      <!-- ============ GUIDE ============ -->
      <section class="view" id="view-guide" data-view="guide" aria-hidden="true" hidden>
        <div class="section">
          <h2 class="section__title">Tous les codes USSD utiles (S√©n√©gal)</h2>
          <p class="section__subtitle">Pour acheter un pass, v√©rifier ton solde, consulter tes bonus, etc.</p>

          <div class="accordion">
            <details open>
              <summary>Orange</summary>
              <div class="accBody">
                <div class="row"><span>Catalogue Pass (offline)</span><code>*1234#</code></div>
                <div class="row"><span>Solde cr√©dit (exemple)</span><code>*123#</code></div>
                <div class="row"><span>Bonus / options</span><code>(peut varier selon offre)</code></div>
              </div>
            </details>
            <details>
              <summary>Free</summary>
              <div class="accBody">
                <div class="row"><span>Solde cr√©dit</span><code>*xxx#</code></div>
                <div class="row"><span>Pass internet</span><code>*xxx#</code></div>
              </div>
            </details>
            <details>
              <summary>Expresso</summary>
              <div class="accBody">
                <div class="row"><span>Solde cr√©dit</span><code>*xxx#</code></div>
                <div class="row"><span>Pass internet</span><code>*xxx#</code></div>
              </div>
            </details>
          </div>

          <div class="tips">
            <h3>Astuces</h3>
            <ul>
              <li>Si un code ne marche pas : red√©marre, v√©rifie la SIM par d√©faut, et essaye une autre variante.</li>
              <li>Certains pass ne s‚Äôaffichent que via SMS promo.</li>
            </ul>
            <a class="btn btn--cta" href="#home">Trouver mon meilleur pass</a>
          </div>
        </div>
      </section>

      <!-- ============ CONTACT ============ -->
      <section class="view" id="view-contact" data-view="contact" aria-hidden="true" hidden>
        <div class="section">
          <h2 class="section__title">Nous contacter</h2>
          <p class="section__subtitle">Une promo qui ne marche pas ? Une erreur ? Une id√©e ?</p>

          <div class="contactGrid">
            <div class="card">
              <h3>Signaler une offre</h3>
              <label class="field">
                <span>Op√©rateur</span>
                <select id="reportOperator" class="input">
                  <option>Orange</option>
                  <option>Free</option>
                  <option>Expresso</option>
                  <option>Lebara</option>
                </select>
              </label>
              <label class="field">
                <span>D√©tails</span>
                <textarea id="reportText" class="input" rows="4" placeholder="Nom offre, prix, code, ce qui ne marche pas..."></textarea>
              </label>
              <button class="btn btn--cta" id="reportSend">Envoyer</button>
              <p class="muted">En V1, on envoie via WhatsApp (rapide, z√©ro compte).</p>
            </div>

            <div class="card">
              <h3>Envoyer une promo re√ßue par SMS</h3>
              <label class="field">
                <span>Op√©rateur</span>
                <select id="smsOperator" class="input">
                  <option>Orange</option>
                  <option>Free</option>
                  <option>Expresso</option>
                  <option>Lebara</option>
                </select>
              </label>
              <label class="field">
                <span>Copie-colle le SMS</span>
                <textarea id="smsText" class="input" rows="5" placeholder="Colle le SMS ici..."></textarea>
              </label>
              <button class="btn btn--cta" id="smsSend">Envoyer</button>
            </div>

            <div class="card">
              <h3>Partenariat / Pub</h3>
              <p class="muted">
                Doylu est ind√©pendant. On accepte des partenariats possibles (clairs et transparents).
              </p>
              <div class="contactBtns">
                <button class="btn" id="bizMail">Email</button>
                <button class="btn" id="bizWA">WhatsApp</button>
              </div>
              <div class="trustMini">
                <div>‚úÖ Site ind√©pendant des op√©rateurs.</div>
                <div>‚úÖ Offres informatives et v√©rifi√©es.</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ============ ADMIN (URL #admin) ============ -->
      <section class="view" id="view-admin" data-view="admin" aria-hidden="true" hidden>
        <div class="section">
          <h2 class="section__title">Admin (invisible au public)</h2>
          <p class="section__subtitle">Acc√®s via <code>#admin</code> + mot de passe.</p>

          <div class="card">
            <div class="adminLogin" id="adminLogin">
              <label class="field">
                <span>Mot de passe</span>
                <input id="adminPass" class="input" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
              </label>
              <button class="btn btn--cta" id="adminLoginBtn">Se connecter</button>
              <p class="muted">Astuce : change le mot de passe dans <code>script.js</code> (ADMIN_PASSWORD).</p>
            </div>

            <div id="adminPanel" hidden>
              <div class="adminTop">
                <div class="muted">Offres enregistr√©es : <span id="adminCount">‚Äî</span></div>
                <div class="adminActions">
                  <button class="btn" id="exportJsonBtn">Exporter JSON</button>
                  <label class="btn btn--file">
                    Importer JSON
                    <input id="importJsonInput" type="file" accept="application/json" hidden />
                  </label>
                  <button class="btn btn--danger" id="resetBtn">Reset (d√©mo)</button>
                </div>
              </div>

              <hr class="sep" />

              <h3>Ajouter / Modifier une offre</h3>
              <div class="formGrid">
                <label class="field">
                  <span>Op√©rateur</span>
                  <select id="fOperator" class="input">
                    <option>Orange</option>
                    <option>Free</option>
                    <option>Expresso</option>
                    <option>Lebara</option>
                  </select>
                </label>

                <label class="field">
                  <span>Nom offre</span>
                  <input id="fName" class="input" placeholder="Ex: Pass Jour 5Go" />
                </label>

                <label class="field">
                  <span>Prix (FCFA)</span>
                  <input id="fPrice" class="input" inputmode="numeric" placeholder="1000" />
                </label>

                <label class="field">
                  <span>Usage</span>
                  <select id="fUsage" class="input">
                    <option value="data">Data</option>
                    <option value="mixte">Mixte</option>
                    <option value="appels">Appels</option>
                  </select>
                </label>

                <label class="field">
                  <span>Data (MB)</span>
                  <input id="fData" class="input" inputmode="numeric" placeholder="Ex: 5120" />
                </label>

                <label class="field">
                  <span>Minutes</span>
                  <input id="fMinutes" class="input" inputmode="numeric" placeholder="Ex: 60" />
                </label>

                <label class="field">
                  <span>Validit√© (jours)</span>
                  <input id="fValidity" class="input" inputmode="numeric" placeholder="Ex: 7" />
                </label>

                <label class="field">
                  <span>USSD</span>
                  <input id="fUssd" class="input" placeholder="Ex: *1234#" />
                </label>

                <label class="field">
                  <span>Promo ?</span>
                  <select id="fPromo" class="input">
                    <option value="false">Non</option>
                    <option value="true">Oui</option>
                  </select>
                </label>

                <label class="field">
                  <span>√âligibilit√©</span>
                  <select id="fEligibility" class="input">
                    <option value="public">Public</option>
                    <option value="student">√âtudiant</option>
                    <option value="corporate">Corporate</option>
                    <option value="special">Sp√©cial / conditions</option>
                  </select>
                </label>

                <label class="field">
                  <span>Source</span>
                  <select id="fSource" class="input">
                    <option value="official">Source officielle</option>
                    <option value="sms">Source SMS</option>
                    <option value="user">Utilisateur</option>
                  </select>
                </label>

                <div class="field field--wide">
                  <button class="btn btn--cta" id="saveOfferBtn">Enregistrer</button>
                  <button class="btn" id="clearFormBtn">Vider</button>
                </div>
              </div>

              <hr class="sep" />

              <h3>Liste</h3>
              <div class="adminList" id="adminList"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Toast -->
      <div class="toast" id="toast" role="status" aria-live="polite" aria-atomic="true" hidden></div>

      <!-- Modal -->
      <dialog class="modal" id="modal">
        <div class="modal__header">
          <div class="modal__title" id="modalTitle">Info</div>
          <button class="modal__close" id="modalClose" aria-label="Fermer">‚úï</button>
        </div>
        <div class="modal__body" id="modalBody"></div>
      </dialog>
    </main>

    <script src="./script.js"></script>
  </body>
</html>
